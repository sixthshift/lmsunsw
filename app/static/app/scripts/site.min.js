function plot_confidence(e){flot_data=[],Object.keys(e).forEach(function(t){var o=e[t];color="","good"==t&&(color="#5cb85c",flot_data.push({label:t,data:o,color:color})),"neutral"==t&&(color="#f0ad4e",flot_data.push({label:t,data:o,color:color})),"bad"==t&&(color="#d9534f",flot_data.push({label:t,data:o,color:color}))}),$.plot("#confidence-graph",flot_data,{series:{pie:{show:!0}}})}function quick_update(e,t,o){data={csrfmiddlewaretoken:o,quick_settings:"Submit"},data[e]=t,$.ajax({type:"POST",url:"/quick_update/",dataType:"json",data:data,success:function(e){"lecture"==e.return_type&&$("#id_Lecture").attr("value",e.return_value),"quiz"==e.return_type&&($("#quick_quiz_select option[value='"+e.return_value+"']").remove(),$("#quiz-result-summary").load(" #quiz-result-summary",function(){$(this).children().unwrap()})),"undefined"!=typeof e.notice&&(close_button='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>',$("#admin_alerts").html('<div class="alert alert-success alert-dismissable" role="alert">'+e.notice+close_button+"</div>"))},error:function(){}})}function addQuickSelectHandlers(){$("#quick_lecture_select").change(function(){quick_update("lecture",this.options[this.selectedIndex].value,"{{csrf_token}}")}),$("#quick_quiz_select").change(function(){quick_update("quiz",this.options[this.selectedIndex].value,"{{csrf_token}}")})}function minimize_panel(e,t){var o=document.getElementById(e);console.log(o),$(o).slideToggle();var a=document.getElementById(t);$(a).toggleClass("glyphicon glyphicon-chevron-down glyphicon glyphicon-chevron-up")}var ping_interval=15e3;setInterval(function(){$.ajax({type:"GET",url:"/poll/",dataType:"json",success:function(e){plot_confidence(e)},error:function(){}})},ping_interval);