function plot_confidence(e){flot_data=[],Object.keys(e).forEach(function(t){var n=e[t];color="","good_confidence_meter_data"==t&&(color="#5cb85c",flot_data.push({label:"good",data:n,color:color}),$("#good_confidence_meter_data").html("Good: "+e[t])),"neutral_confidence_meter_data"==t&&(color="#f0ad4e",flot_data.push({label:"neutral",data:n,color:color}),$("#neutral_confidence_meter_data").html("Neutral: "+e[t])),"bad_confidence_meter_data"==t&&(color="#d9534f",flot_data.push({label:"bad",data:n,color:color}),$("#bad_confidence_meter_data").html("Bad: "+e[t]))}),$.plot("#confidence-graph",flot_data,{series:{pie:{show:!0,radius:1,label:{show:!0,radius:.75,background:{opacity:.5,color:"#000"}}}}})}function quick_update(e,t,n){data={csrfmiddlewaretoken:n,quick_settings:"Submit"},data[e]=t,$.ajax({type:"POST",url:"/quick_update/",dataType:"json",data:data,success:function(e){"lecture"==e.return_type&&$("#quick-settings-panel").load(" #quick-settings-panel",function(){$(this).children().unwrap()}),"quiz_close"==e.return_type&&($("#quiz-results-panel").load(" #quiz-results-panel",function(){$(this).children().unwrap()}),$("#quick-settings-panel").load(" #quick-settings-panel",function(){$(this).children().unwrap()})),"quiz_open"==e.return_type&&($("#quiz-results-panel").load(" #quiz-results-panel",function(){$(this).children().unwrap()}),$("#quick-settings-panel").load(" #quick-settings-panel",function(){$(this).children().unwrap()})),"undefined"!=typeof e.notice&&(close_button='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>',$("#admin_alerts").html('<div class="alert alert-success alert-dismissable" role="alert">'+e.notice+close_button+"</div>"))},error:function(){}})}function minimize_panel(e,t){var n=document.getElementById(e);$(n).slideToggle();var a=document.getElementById(t);$(a).toggleClass("glyphicon glyphicon-chevron-down glyphicon glyphicon-chevron-up")}var ping_interval=1e3;setInterval(function(){$.ajax({type:"GET",url:"/poll/",dataType:"json",success:function(e){plot_confidence(e)},error:function(){}})},ping_interval);